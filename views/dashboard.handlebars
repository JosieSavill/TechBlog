<main>
    <h1>My Dashboard</h1>

    {{#if posts}}
        {{#each posts}}
            <div class="blog-post">
                <h2><a href="/post/{{this.id}}">{{this.title}}</a></h2>
                <p>{{this.body}}</p>
                <p>{{this.user_id}}</p>
                <button class="btn btn-danger" onclick="deletePost({{this.id}})">Delete</button>
                <button class="btn btn-primary" onclick="showUpdateForm({{this.id}}, '{{this.title}}', '{{this.body}}')">Update</button>
            </div>
        {{/each}}
    {{else}}
        <p>No posts  yet. Add one below.</p>
    {{/if}}

    <form id="new-post-form">
        <div>
            <label for="title">Title:</label>
            <input type="text" id="title" name="title" required>
        </div><br>
                
        <div>
            <label for="body">Body:</label>
            <textarea id="body" name="body" rows="10" cols="50" required></textarea>
        </div><br>

        <div>
            <button class="btn btn-primary" onclick="updatePost()">Update Post</button>
            <button class="btn btn-secondary" onclick="cancelUpdate()">Cancel</button>
        </div><br>
    </form>

    <form id="update-post-form" style="display: none">
        <div>
            <label for="title">Title:</label>
            <input type="text" id="update-title" name="title" required>
        </div><br>

        <div>
            <button class="btn btn-primary" onclick="updatePost()">Update Post</button>
            <button class="btn btn-secondary" onclick="cancelUpdate()">Cancel</button>
        </div><br>
    </form>

</main>






